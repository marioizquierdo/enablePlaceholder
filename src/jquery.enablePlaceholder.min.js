/* 
 * EnablePlaceholder jQuery plugin.
 * https://github.com/marioizquierdo/enablePlaceholder
 * version 1.1 (Aug 8, 2011)
 * 
 * Copyright (c) 2011 Mario Izquierdo
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 */
(function(a){a.support.placeholder=("placeholder" in document.createElement("input"));a.EnablePlaceholder={defaults:{withPlaceholderClass:"placeholder"}};a.fn.enablePlaceholder=function(c){return b(this,c,function(d,e){d.bind("focus focusin keydown paste",function(){d.clearPlaceholder(e)});d.bind("blur focusout",function(){d.showPlaceholder(e)});d.parents("form").first().submit(function(){d.clearPlaceholder(e);return true});a(window).unload(function(){d.clearPlaceholder(e);return true});d.showPlaceholder(e)})};a.fn.showPlaceholder=function(c){return b(this,c,function(d,f){if(d.val()===""){if(d.attr("type")==="password"){if(!d.data("ph_text")){var e=d.clone().attr("type","text").removeAttr("name").data({ph_pass:d,ph_id:d.attr("id"),ph_active:true}).bind("focus",function(){a(this).clearPlaceholder(f)});d.data({ph_text:e,ph_id:d.attr("id"),ph_active:true}).before(e)}d=d.removeAttr("id").hide();d.data("ph_text").attr("id",d.data("ph_id")).show();d=d.data("ph_text")}d.val(d.attr("placeholder")).addClass(f.withPlaceholderClass).data("ph_active",true)}})};a.fn.clearPlaceholder=function(c){return b(this,c,function(d,e){if(d.data("ph_active")){if(d.data("ph_pass")){d.hide().data("ph_pass").attr("id",d.removeAttr("id").data("ph_id")).show().data("ph_active",false).focus()}if(d.data("ph_text")){d.data("ph_text").remove();d.data({ph_text:null,ph_active:false}).show()}d.val("").removeClass(e.withPlaceholderClass).data("ph_active",false)}})};a.fn.updatePlaceholder=function(d,c){this.clearPlaceholder(c).attr("placeholder",d).showPlaceholder(c)};var b;b=function(f,d,c){if(!a.support.placeholder){var e=a.extend({},a.EnablePlaceholder.defaults,d);return f.each(function(){var g=a(this);c(g,e)})}}})(jQuery);